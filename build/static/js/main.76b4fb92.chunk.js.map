{"version":3,"sources":["js/api.js","components/AddRoom.jsx","components/AddSensor.jsx","components/Navigator.jsx","components/Rooms.jsx","components/Room.jsx","js/helpers.js","components/Sensor.jsx","js/model.js","components/App.jsx","index.js"],"names":["host","socket","io","connect","getRooms","a","console","log","url","axios","get","response","data","createRoom","room","post","deleteRoom","room_id","delete","updateRoom","obj","put","getSensors","createSensor","sensor","deleteSensor","sensor_id","getMeasurements","getMeasurementsQuery","AddRoom","history","useHistory","useState","name","setName","description","setDescription","id","setId","addRoom","useStoreActions","actions","className","value","onChange","e","target","type","placeholder","min","step","onClick","sensors","then","res","message","push","AddSensor","variable","setVariable","unit","setUnit","useParams","rooms","useStoreState","state","newSensor","currentSensors","filter","updateRoomDB","Navigator","selectedRoom","setSelectedRoom","selectedSensor","setSelectedSensor","setRooms","setMessage","useEffect","on","msg","JSON","parse","off","to","map","icon","faPlus","Rooms","class","last_update","Room","removeRoom","action","setSensors","length","faTrash","timeFromNow","time","unixTime","Date","getTime","difference","tfn","when","Math","abs","unitOfTime","floor","Sensor","realtime","setRealtime","queryDate","setQueryDate","labels","setLabels","setData","removeSensor","measurements","setMeasurements","addMeasurement","shiftMeasurement","now","updated_at","measurement","timestamp","toLocaleString","split","datasets","label","fill","borderColor","tension","initialData","options","animation","duration","faCog","spin","date","shift","store","createStore","model","App","exact","from","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76b4fb92.chunk.js","sourcesContent":["import axios from 'axios';\nimport io from \"socket.io-client\";\n\nconst host='raspberrypi.local:9999'\n// const host='localhost:9999'\n\nexport const socket = io.connect(`http://${host}`);\n\nexport const getRooms = async () => {\n  console.log('... getting rooms');\n  const url = `http://${host}/api/rooms`;\n  const response = await axios.get(url)\n  return response.data\n}\n\nexport const createRoom = async room => {\n  console.log('... creating room');\n  const url = `http://${host}/api/rooms`;\n  const response = await axios.post(url, room)\n  return response.data\n}\n\nexport const deleteRoom = async room_id => {\n  console.log('... deleting room');\n  const url = `http://${host}/api/rooms/${room_id}`;\n  const response = await axios.delete(url)\n  return response.data\n}\n\nexport const updateRoom = async (room_id, obj) => {\n  console.log('... updating room');\n  const url = `http://${host}/api/rooms/${room_id}`;\n  const response = await axios.put(url, obj)\n  return response.data\n}\n\nexport const getSensors = async (room_id) => {\n  console.log('... getting sensors');\n  const url = `http://${host}/api/rooms/${room_id}/sensors`;\n  const response = await axios.get(url)\n  return response.data\n}\n\nexport const createSensor = async (room_id, sensor) => {\n  console.log('... creating room');\n  const url = `http://${host}/api/rooms/${room_id}/sensors`;\n  const response = await axios.post(url, sensor)\n  return response.data\n}\n\nexport const deleteSensor = async (room_id, sensor_id) => {\n  console.log('... deleting sensor');\n  const url = `http://${host}/api/rooms/${room_id}/sensors/${sensor_id}`;\n  const response = await axios.delete(url)\n  return response.data\n}\n\nexport const getMeasurements = async (room_id, sensor_id) => {\n  console.log('... getting sensor values');\n  const url = `http://${host}/api/rooms/${room_id}/sensors/${sensor_id}/measurements`;\n  const response = await axios.get(url)\n  return response.data\n}\n\nexport const getMeasurementsQuery = async (room_id, sensor_id, data) => {\n  console.log('... getting sensor values query');\n  const url = `http://${host}/api/rooms/${room_id}/sensors/${sensor_id}/measurements/query`;\n  const response = await axios.post(url, data)\n  return response.data\n}","import { useStoreActions } from \"easy-peasy\"\nimport { useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { createRoom } from \"../js/api\"\n\nconst AddRoom = () => {\n  const history = useHistory()\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const [id, setId] = useState('')\n  const addRoom = useStoreActions(actions => actions.addRoom)\n\n  const handleSave = () => {\n    const sensors = 0\n    createRoom({name, description, id, sensors})\n      .then(res => {if(res.message) {\n        addRoom({name, description, id, sensors})\n        history.push('/')\n    }} )\n  }\n\n  return (\n    <div className=\"column\">\n      <div className=\"card m-4 p-4\">\n        <div className=\"title is-3\">Add room</div>\n        <div className=\"field\">\n          <label className=\"label\">Name</label>\n          <p className=\"control\">\n            <input \n              value={name} onChange={e => setName(e.target.value)}\n              className=\"input\" type=\"text\" placeholder=\"Room name\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Description</label>\n          <p className=\"control\">\n            <textarea \n              value={description} onChange={e => setDescription(e.target.value)}\n              className=\"textarea\" type=\"text\" placeholder=\"Room description\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Id</label>\n          <p className=\"control\">\n            <input \n              value={id} onChange={e => setId(e.target.value)}\n              className=\"input\" type=\"number\" min='1' step=\"1\" placeholder=\"Unique id\" />\n          </p>\n        </div>\n        <div className=\"field mt-4\">\n          <div className=\"control\">\n            <button className=\"button is-primary\" onClick={handleSave}>\n              Save\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AddRoom","import { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { createSensor, updateRoom as updateRoomDB } from \"../js/api\";\n\nconst AddSensor = () => {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [variable, setVariable] = useState('');\n  const [unit, setUnit] = useState('');\n  const [id, setId] = useState('');\n\n  const { room_id } = useParams();\n  const history = useHistory()\n\n  const rooms = useStoreState(state => state.rooms)\n  const updateRoom = useStoreActions(actions => actions.updateRoom)\n\n  const handleSaveSensor = () => {\n    const newSensor = {name, description, variable, unit, id}\n\n    const currentSensors = rooms.filter(room => room.id == room_id)[0].sensors\n    createSensor(room_id, newSensor).then(res => console.log('sensor created'))\n    updateRoomDB(room_id, {sensors: currentSensors+1})\n      .then(res => {\n        updateRoom(room_id, {sensors: currentSensors+1})\n        history.push(`/room/${room_id}`)\n      })\n  }\n  \n  return (\n    <div className=\"column\">\n      <div className=\"card m-4 p-4\">\n        <div className=\"title is-3\">Add Sensor</div>\n        <div className=\"field\">\n          <label className=\"label\">Name</label>\n          <p className=\"control\">\n            <input \n              onChange={e => setName(e.target.value)} value={name}\n              className=\"input\" type=\"text\" placeholder=\"Sensor name\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Description</label>\n          <p className=\"control\">\n            <textarea \n              onChange={e => setDescription(e.target.value)} value={description}\n              className=\"textarea\" type=\"text\" placeholder=\"Sensor description\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Variable</label>\n          <p className=\"control\">\n            <input \n              onChange={e => setVariable(e.target.value)} value={variable}\n              className=\"input\" type=\"text\" placeholder=\"Ex: Temperature\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Unit</label>\n          <p className=\"control\">\n            <input \n              onChange={e => setUnit(e.target.value)} value={unit}\n              className=\"input\" type=\"text\" placeholder=\"Ex: ॰C\" />\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Id</label>\n          <p className=\"control\">\n            <input \n              onChange={e => setId(e.target.value)} value={id}\n              className=\"input\" type=\"number\" min='1' step=\"1\" placeholder=\"Unique id\" />\n          </p>\n        </div>\n        <div className=\"field mt-4\">\n          <div className=\"control\">\n            <button className=\"button is-primary\" onClick={handleSaveSensor}>\n              Save\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AddSensor","import { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getRooms, socket } from '../js/api';\nimport { useStoreState, useStoreActions } from 'easy-peasy';\n\nconst Navigator = () => {\n  const [selectedRoom, setSelectedRoom] = useState(null);\n  const [selectedSensor, setSelectedSensor] = useState(null);\n  const rooms = useStoreState(state => state.rooms)\n  const sensors = useStoreState(state => state.sensors)\n  const message = useStoreState(state => state.message)\n  const setRooms = useStoreActions(actions => actions.setRooms)\n  const setMessage = useStoreActions(actions => actions.setMessage)\n  \n  useEffect(() => {\n    getRooms().then(res => setRooms(res.rooms))\n    socket.on('message', msg => {\n      setMessage(JSON.parse(msg))\n      console.log(JSON.parse(msg))\n    })\n    return () => {\n      socket.off('message');\n    };\n  },[])\n\n  return (\n    <aside className=\"menu column is-one-fifth m-4\">\n      <p className=\"menu-label has-text-link\">\n        <Link to='/rooms' onClick={() => {setSelectedRoom(null); setSelectedSensor(null)}}>\n          Rooms\n        </Link>\n      </p>\n      <ul className=\"menu-list\">\n        {rooms.map(room => (\n          <li>\n          <Link \n            to={`/room/${room.id}`} \n            onClick={() => {setSelectedRoom(room.id); setSelectedSensor(null)}} \n            className={room.id == selectedRoom ? 'is-active' : ''}>\n            {room.name}\n          </Link>\n          {room.id == selectedRoom ? \n            <ul>\n              {sensors.map(sensor => (\n                <li>\n                  <Link to={`/room/${room.id}/sensor/${sensor.id}`}\n                    onClick={() => setSelectedSensor(sensor.id)} \n                    className={sensor.id == selectedSensor ? 'is-active' : ''}>\n                    {sensor.name}\n                  </Link>\n                </li> \n              ))}\n              <li>\n                <Link \n                  onClick={() => setSelectedSensor(null)} \n                  to={`/add_sensor/${room.id}`}>\n                  <span className=\"has-text-link\">\n                    <FontAwesomeIcon icon={faPlus} />\n                  </span>\n                  <span className=\"ml-2\">Add sensor</span>\n                </Link>\n              </li>\n            </ul>\n           : ''}\n          </li>\n        ))}\n        <li>\n          <Link to='/add_room' onClick={() => setSelectedRoom(null)}>\n            <span className=\"has-text-link\">\n              <FontAwesomeIcon icon={faPlus} />\n             </span>\n            <span className=\"ml-2\">Add room</span>\n          </Link>\n        </li>\n      </ul>\n    </aside>\n  )\n}\n\nexport default Navigator","import { faPlus } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useStoreState } from \"easy-peasy\"\nimport { Link } from \"react-router-dom\"\nconst Rooms = () => {\n  const rooms = useStoreState(state => state.rooms)\n\n  return (\n    <div className=\"column\">\n      <h1 className=\"title is-3 m-4\">Rooms</h1>\n      <div class=\"is-flex is-flex-wrap-wrap\">\n        {rooms.map(room => (\n          <div className=\"card m-4\">\n            <Link to={`/room/${room.id}`}>\n              <div className=\"card-content\">\n                <p className=\"title is-3\">{room.name} <span className='subtitle is-4'>({room.id})</span></p>\n                <p className=\"subtitle is-5\">{room.description}</p>\n                <p>Sensors connected: {room.sensors}</p>\n                <p>Last update: {room.last_update}</p>\n              </div>\n            </Link>\n          </div>\n        ))}\n        <div className=\"card m-4\">\n          <Link to='/add_room'>\n            <div className=\"card-content\">\n              <p className=\"title is-3\">Add room</p>\n              <p className=\"subtitle is-1 has-text-success\">\n                <FontAwesomeIcon icon={faPlus} />\n              </p>\n            </div>\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Rooms","import { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { useEffect } from \"react\";\nimport { Link, useHistory, useParams } from \"react-router-dom\"\nimport { deleteRoom, getSensors } from \"../js/api\";\n\nconst Room = () => {\n  const { room_id } = useParams();\n  const history = useHistory();\n  const removeRoom = useStoreActions(action => action.removeRoom)\n  const setSensors = useStoreActions(action => action.setSensors)\n\n  const rooms = useStoreState(state => state.rooms)\n  const sensors = useStoreState(state => state.sensors)\n  const room = rooms.filter(room => room.id == room_id)[0] \n\n  const handleRoomDelete = () => {\n    deleteRoom(room_id).then(res => {\n      if (res.message) {\n        history.push('/')\n        removeRoom(room_id)\n      }\n    })\n  }\n\n  useEffect(() => {\n    getSensors(room_id).then(res => setSensors(res.sensors) ) \n  }, [room_id])\n\n  useEffect(() => {\n    if (rooms.length==0) history.push('/')\n  },[])\n\n  return (\n    <div className=\"column\">\n      {rooms.length != 0 ? \n        <>\n        <div className=\"is-flex is-justify-content-space-between\">\n          <p className=\"title is-3 mt-4 ml-2\">{room.name}</p>\n          <p \n            onClick={handleRoomDelete}\n            className=\"has-text-danger p-4 m-4 title is-5\">\n            <FontAwesomeIcon icon={faTrash} />\n          </p>\n        </div>\n        <p className=\"subtitle is-5 ml-4\">Updated at: {room.last_update}</p>\n        <div class=\"is-flex is-flex-wrap-wrap\">\n          {sensors.map(sensor => (\n            <div className=\"card m-4\">\n              <Link to={`/room/${room_id}/sensor/${sensor.id}`}>\n                <div className=\"card-content\">\n                  <p className=\"title is-3\">{sensor.name}</p>\n                  <p className=\"subtitle is-5\">{sensor.variable}</p>\n                  <p>\n                    <span className=\"\">{sensor.value} </span>\n                    <span className=\"\">{sensor.unit} </span>\n                  </p>\n                </div>\n              </Link>\n            </div>\n          ))}\n          <div className=\"card m-4\">\n            <Link to={`/add_sensor/${room_id}`}>\n              <div className=\"card-content\">\n                <p className=\"title is-3\">Add sensor</p>\n                <p className=\"subtitle is-1 has-text-success\">\n                  <FontAwesomeIcon icon={faPlus} />\n                </p>\n              </div>\n            </Link>\n          </div>\n        </div>\n      </>\n      : ''}\n    </div>\n  )\n}\n\nexport default Room","export const toDateTime = timestamp => {\n  const time = new Date(timestamp)\n  return time.toLocaleString('sv-SE')\n}\n\nexport const toDate = timestamp => {\n  const time = new Date(timestamp)\n  return time.toLocaleString('sv-SE').split(' ')[0]\n}\n\nexport const toTime = timestamp => {\n  const time = new Date(timestamp)\n  return time.toLocaleString('sv-SE').split(' ')[1]\n}\n\nexport const timeFromNow = time => {\n\tlet unixTime = new Date(time).getTime();\n\tif (!unixTime) return;\n\tlet now = new Date().getTime();\n\tlet difference = (unixTime / 1000) - (now / 1000);\n\tlet tfn = {};\n\n  tfn.when = 'now';\n\tif (difference > 0) {\n\t\ttfn.when = 'future';\n\t} else if (difference < -1) {\n\t\ttfn.when = 'past';\n\t}\n\n\tdifference = Math.abs(difference);\n\n\tif (difference / (60 * 60 * 24 * 365) > 1) {\n\t\ttfn.unitOfTime = 'years';\n\t\ttfn.time = Math.floor(difference / (60 * 60 * 24 * 365));\n\t} else if (difference / (60 * 60 * 24 * 45) > 1) {\n\t\ttfn.unitOfTime = 'months';\n\t\ttfn.time = Math.floor(difference / (60 * 60 * 24 * 45));\n\t} else if (difference / (60 * 60 * 24) > 1) {\n\t\ttfn.unitOfTime = 'days';\n\t\ttfn.time = Math.floor(difference / (60 * 60 * 24));\n\t} else if (difference / (60 * 60) > 1) {\n\t\ttfn.unitOfTime = 'hours';\n\t\ttfn.time = Math.floor(difference / (60 * 60));\n\t} else {\n\t\ttfn.unitOfTime = 'seconds';\n\t\ttfn.time = Math.floor(difference);\n\t}\n\n\treturn `${tfn.time} ${tfn.unitOfTime} ${tfn.when == 'past' ?  'ago' : 'ahead'}` ;\n}","import { faCog, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useStoreActions, useStoreState } from 'easy-peasy';\nimport { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2'\nimport { useHistory, useParams } from 'react-router-dom';\nimport { deleteSensor, getMeasurements, getMeasurementsQuery } from '../js/api';\nimport { timeFromNow, toDateTime, toTime } from '../js/helpers';\n\nconst Sensor = () => {\n  const [realtime, setRealtime] = useState(true);\n  const [queryDate, setQueryDate] = useState(null);\n  const [labels, setLabels] = useState([])\n  const [data, setData] = useState([])\n  const {sensor_id, room_id} = useParams()\n  const sensors = useStoreState(state => state.sensors)\n  const message = useStoreState(state => state.message)\n  const removeSensor = useStoreActions(actions => actions.removeSensor)\n  const sensor = sensors.filter(sensor => sensor.id == sensor_id)[0]\n  const measurements = useStoreState(state => state.measurements)\n  const setMeasurements = useStoreActions(actions => actions.setMeasurements)\n  const addMeasurement = useStoreActions(actions => actions.addMeasurement)\n  const shiftMeasurement = useStoreActions(actions => actions.shiftMeasurement)\n  const history = useHistory()\n\n  const initialData = (labels, data) => ({\n    labels,\n    datasets: [{\n      label: 'Temperature ॰C',\n      data,\n      fill: false,\n      borderColor: '#2ecc71',\n      tension: 0.1\n    }]\n  });\n\n  const options = {\n    animation: {\n        duration: 0\n    }\n  }\n\n  \n  useEffect(() => {\n    if (sensors.length==0) history.push('/')\n  },[])\n\n  useEffect(() => {\n    console.log('...measurements')\n    getMeasurements(room_id, sensor_id).then(res => {\n      setMeasurements(res.measurements)\n    })\n  }, [sensor_id])\n\n  useEffect(() => {\n    if (realtime && (message.room_id == room_id) && (message.sensor_id == sensor_id)) {\n      if (measurements.length > 100) shiftMeasurement();\n      addMeasurement({...message, id: Date.now(), updated_at: Date(message.updated_at)});\n    }\n  }, [message])\n\n  useEffect(() => {\n    setLabels(measurements.map(measurement => toTime(measurement.updated_at)))\n    setData(measurements.map(measurement => measurement.value))\n  }, [measurements])\n\n  const handleSensorDelete = () => {\n    deleteSensor(room_id, sensor_id).then(res => {\n      if (res.message) {\n        history.push(`/room/${room_id}`)\n        removeSensor(sensor_id)\n      }\n    }) \n  }\n\n  const handleQuery = () => {\n    setRealtime(false);\n    getMeasurementsQuery(room_id, sensor_id, {date: queryDate}).then(res => {\n      setMeasurements(res.measurements)\n    })\n  }\n\n  return (\n    <div className=\"column\">\n      {sensors.length != 0 ?\n      <>\n      <div className=\"is-flex is-justify-content-space-between\">\n        <p className=\"title is-3 mt-4 ml-2\">{sensor.name}</p>\n        <p \n          onClick={handleSensorDelete}\n          className=\"has-text-danger p-4 m-4 title is-5\">\n          <FontAwesomeIcon icon={faTrash} />\n        </p>\n      </div>\n      <p className=\"subtitle is-5 ml-3\">Last update: {timeFromNow(sensor.last_update)}</p>\n      <p className=\"subtitle is-5 ml-3\">{sensor.description}</p>\n      <div className=\"card m-4\">\n        <Line data={() => initialData(labels, data)} options={options}/>\n      </div>\n      <div className=\"is-flex is-justify-content-space-between\">\n        <button\n          onClick={() => setRealtime(true)}\n          className={`button is-outlined ml-4 ${realtime && 'is-success'}`}>\n            <FontAwesomeIcon icon={faCog} spin={realtime} className=\"mr-2\"/> \n            Realtime\n        </button>\n        <div className=\"is-flex\">\n          <label class=\"label ml-4\">Date:</label>\n          <input \n            onChange={e => setQueryDate(e.target.value)}  \n            value={queryDate} type=\"date\" \n            className={`input ml-2 ${!realtime && 'is-success'}`} />\n          <button \n            onClick={handleQuery}\n            className={`button is-outlined ml-4 mr-4 ${!realtime && 'is-success'}`}>\n              Query\n          </button>\n        </div>\n      </div>\n      </>\n      : ''}\n    </div>\n  )\n}\n\nexport default Sensor","import { action } from 'easy-peasy'\n\nexport default {\n  rooms: [],\n  setRooms: action((state, rooms) => {state.rooms = [...rooms]}),\n  addRoom: action((state, room) => {state.rooms.push(room)}),\n  removeRoom: action((state, id) => {state.rooms = state.rooms.filter(room => room.id != id)}),\n  updateRoom: action((state, id, obj) => {\n    state.rooms = state.rooms.map(room => room.id == id ? {...room, ...obj} : room)\n  }),\n\n  sensors: [],\n  setSensors: action((state, sensors) => {state.sensors = [...sensors]}),\n  removeSensor: action((state, id) => {state.sensors = state.sensors.filter(sensor => sensor.id != id)}),\n  \n  measurements: [],\n  setMeasurements: action((state, measurements) => {state.measurements = [...measurements]}),\n  addMeasurement: action((state, measurement) => {state.measurements.push(measurement)}),\n  shiftMeasurement: action((state) => {state.measurements.shift()}),\n\n  message: {},\n  setMessage: action((state, message) => {state.message = message})\n}","import { Switch, Redirect, Route, Router } from 'react-router-dom';\nimport { StoreProvider, createStore } from 'easy-peasy';\nimport AddRoom from \"./AddRoom\";\nimport AddSensor from \"./AddSensor\";\nimport Navigator from \"./Navigator\";\nimport Rooms from \"./Rooms\";\nimport Room from \"./Room\";\nimport Sensor from \"./Sensor\";\nimport model from '../js/model'\n\nconst store = createStore(model)\n\nconst App = () => {\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"columns\">\n          <StoreProvider store={store}>\n            <Navigator />\n              <Switch>\n                <Redirect exact from=\"/\" to=\"/rooms\" />\n                <Route path=\"/rooms\" component={Rooms} />\n                <Route path=\"/room/:room_id/sensor/:sensor_id\" component={Sensor} />\n                <Route path=\"/room/:room_id\" component={Room} />\n                <Route path=\"/add_room\" component={AddRoom} />\n                <Route path=\"/add_sensor/:room_id\" component={AddSensor} />\n              </Switch>\n          </StoreProvider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './css/index.css';\nimport './css/style.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}