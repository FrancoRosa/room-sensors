(this["webpackJsonproom-sensors"]=this["webpackJsonproom-sensors"]||[]).push([[0],{129:function(e,t,s){},130:function(e,t,s){},291:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(119),r=s.n(a),i=s(7),o=(s(129),s(130),s(6)),l=s(2),u=s(5),j=s(4),d=s.n(j),b=s(13),m=s(14),O=s.n(m),p=s(120),h="localhost:9999",f=s.n(p).a.connect("http://".concat(h)),x=function(){var e=Object(b.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting rooms"),t="http://".concat(h,"/api/rooms"),e.next=4,O.a.get(t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... creating room"),s="http://".concat(h,"/api/rooms"),e.next=4,O.a.post(s,t);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... deleting room"),s="http://".concat(h,"/api/rooms/").concat(t),e.next=4,O.a.delete(s);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... updating room"),n="http://".concat(h,"/api/rooms/").concat(t),e.next=4,O.a.put(n,s);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting sensors"),s="http://".concat(h,"/api/rooms/").concat(t,"/sensors"),e.next=4,O.a.get(s);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... creating room"),n="http://".concat(h,"/api/rooms/").concat(t,"/sensors"),e.next=4,O.a.post(n,s);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... deleting sensor"),n="http://".concat(h,"/api/rooms/").concat(t,"/sensors/").concat(s),e.next=4,O.a.delete(n);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting sensor values"),n="http://".concat(h,"/api/rooms/").concat(t,"/sensors/").concat(s,"/measurements"),e.next=4,O.a.get(n);case 4:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(d.a.mark((function e(t,s,n){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting sensor values query"),c="http://".concat(h,"/api/rooms/").concat(t,"/sensors/").concat(s,"/measurements/query"),e.next=4,O.a.post(c,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting events"),t="http://".concat(h,"/api/network/card"),e.next=4,O.a.get(t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... getting events"),t="http://".concat(h,"/api/network/scan"),e.next=4,O.a.get(t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... configure wifi"),n="http://".concat(h,"/api/network"),e.next=4,O.a.post(n,{ssid:t,pass:s});case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... shutting down"),t="http://".concat(h,"/api/poweroff"),e.next=4,O.a.post(t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("... restarting"),t="http://".concat(h,"/api/restart"),e.next=4,O.a.post(t);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=s(0),I=function(){var e=Object(o.g)(),t=Object(n.useState)(""),s=Object(u.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),j=i[0],d=i[1],b=Object(n.useState)(""),m=Object(u.a)(b,2),O=m[0],p=m[1],h=Object(l.d)((function(e){return e.addRoom}));return Object(M.jsx)("div",{className:"column",children:Object(M.jsxs)("div",{className:"card m-4 p-4",children:[Object(M.jsx)("div",{className:"title is-3",children:"Add room"}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Name"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},className:"input",type:"text",placeholder:"Room name"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Description"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("textarea",{value:j,onChange:function(e){return d(e.target.value)},className:"textarea",type:"text",placeholder:"Room description"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Id"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{value:O,onChange:function(e){return p(e.target.value)},className:"input",type:"number",min:"1",step:"1",placeholder:"Unique id"})})]}),Object(M.jsx)("div",{className:"field mt-4",children:Object(M.jsx)("div",{className:"control",children:Object(M.jsx)("button",{className:"button is-primary",onClick:function(){v({name:c,description:j,id:O,sensors:0}).then((function(t){t.message&&(h({name:c,description:j,id:O,sensors:0}),e.push("/"))}))},children:"Save"})})})]})})},A=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(""),r=Object(u.a)(a,2),i=r[0],j=r[1],d=Object(n.useState)(""),b=Object(u.a)(d,2),m=b[0],O=b[1],p=Object(n.useState)(""),h=Object(u.a)(p,2),f=h[0],x=h[1],v=Object(n.useState)(""),N=Object(u.a)(v,2),w=N[0],S=N[1],y=Object(o.h)().room_id,C=Object(o.g)(),_=Object(l.e)((function(e){return e.rooms})),z=Object(l.d)((function(e){return e.updateRoom}));return Object(M.jsx)("div",{className:"column",children:Object(M.jsxs)("div",{className:"card m-4 p-4",children:[Object(M.jsx)("div",{className:"title is-3",children:"Add Sensor"}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Name"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{onChange:function(e){return c(e.target.value)},value:s,className:"input",type:"text",placeholder:"Sensor name"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Description"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("textarea",{onChange:function(e){return j(e.target.value)},value:i,className:"textarea",type:"text",placeholder:"Sensor description"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Variable"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{onChange:function(e){return O(e.target.value)},value:m,className:"input",type:"text",placeholder:"Ex: Temperature"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Unit"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{onChange:function(e){return x(e.target.value)},value:f,className:"input",type:"text",placeholder:"Ex: \u0970C"})})]}),Object(M.jsxs)("div",{className:"field",children:[Object(M.jsx)("label",{className:"label",children:"Id"}),Object(M.jsx)("p",{className:"control",children:Object(M.jsx)("input",{onChange:function(e){return S(e.target.value)},value:w,className:"input",type:"number",min:"1",step:"1",placeholder:"Unique id"})})]}),Object(M.jsx)("div",{className:"field mt-4",children:Object(M.jsx)("div",{className:"control",children:Object(M.jsx)("button",{className:"button is-primary",onClick:function(){var e={name:s,description:i,variable:m,unit:f,id:w},t=_.filter((function(e){return e.id==y}))[0].sensors;k(y,e).then((function(e){return console.log("sensor created")})),g(y,{sensors:t+1}).then((function(e){z(y,{sensors:t+1}),C.push("/room/".concat(y))}))},children:"Save"})})})]})})},J=s(12),W=s(11),q=function(e){return new Date(e).toLocaleString("sv-SE").split(" ")[1]},L=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},P=function(){var e=Object(n.useState)(Date()),t=Object(u.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){setInterval((function(){c(Date())}),1e3)}),[]),Object(M.jsx)("p",{disabled:!0,className:"button is-outlined is-white clock heading has-text-white is-size-4",children:q(s)})},U=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(null),r=Object(u.a)(a,2),o=r[0],j=r[1],d=Object(l.e)((function(e){return e.rooms})),b=Object(l.e)((function(e){return e.sensors})),m=(Object(l.e)((function(e){return e.message})),Object(l.d)((function(e){return e.setRooms}))),O=Object(l.d)((function(e){return e.setMessage}));return Object(n.useEffect)((function(){return x().then((function(e){return m(e.rooms)})),f.on("message",(function(e){O(JSON.parse(e)),console.log(JSON.parse(e))})),function(){f.off("message")}}),[]),Object(M.jsxs)("aside",{className:"menu column is-one-fifth p-4 is-size-5",children:[Object(M.jsx)("p",{className:"menu-label has-text-link ml-2",children:Object(M.jsx)(i.b,{to:"/rooms",onClick:function(){c(null),j(null)},children:"Rooms"})}),Object(M.jsxs)("ul",{className:"menu-list p-0 m-0",children:[d.map((function(e){return Object(M.jsxs)("li",{children:[Object(M.jsx)(i.b,{to:"/room/".concat(e.id),onClick:function(){j(null),s==e.id?c(null):c(e.id)},className:e.id==s?"is-active":"",children:e.name}),e.id==s?Object(M.jsxs)("ul",{className:"p-0 m-0",children:[b.map((function(t){return Object(M.jsx)("li",{className:"p-0 m-0",children:Object(M.jsx)(i.b,{to:"/room/".concat(e.id,"/sensor/").concat(t.id),onClick:function(){return j(t.id)},className:t.id==o?"p-0 m-0 is-active":"p-0 m-0",children:t.name})})})),Object(M.jsx)("li",{children:Object(M.jsxs)(i.b,{onClick:function(){return j(null)},to:"/add_sensor/".concat(e.id),children:[Object(M.jsx)("span",{className:"has-text-link",children:Object(M.jsx)(W.a,{icon:J.b})}),Object(M.jsx)("span",{className:"ml-2 is-size-6",children:"Add sensor"})]})})]}):""]})})),Object(M.jsx)("li",{children:Object(M.jsxs)(i.b,{to:"/add_room",onClick:function(){return c(null)},children:[Object(M.jsx)("span",{className:"has-text-link",children:Object(M.jsx)(W.a,{icon:J.b})}),Object(M.jsx)("span",{className:"ml-2",children:"Add room"})]})}),Object(M.jsxs)("li",{children:[Object(M.jsxs)(i.b,{to:"/wireless",onClick:function(){return c(null)},children:[Object(M.jsx)("span",{className:"has-text-link",children:Object(M.jsx)(W.a,{icon:J.f})}),Object(M.jsx)("span",{className:"ml-2",children:"Wireless"})]}),Object(M.jsxs)(i.b,{to:"/system",onClick:function(){return c(null)},children:[Object(M.jsx)("span",{className:"has-text-link",children:Object(M.jsx)(W.a,{icon:J.c})}),Object(M.jsx)("span",{className:"ml-2",children:"System"})]})]})]})]})},F=function(){var e=Object(l.e)((function(e){return e.rooms}));return Object(M.jsxs)("div",{className:"column content",children:[Object(M.jsx)("h1",{className:"title is-3 m-4",children:"Rooms"}),Object(M.jsxs)("div",{class:"is-flex is-flex-wrap-wrap",children:[e.map((function(e){return Object(M.jsx)("div",{className:"card m-4",children:Object(M.jsx)(i.b,{to:"/room/".concat(e.id),children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsxs)("p",{className:"title is-3",children:[e.name," ",Object(M.jsxs)("span",{className:"subtitle is-4",children:["(",e.id,")"]})]}),Object(M.jsx)("p",{className:"subtitle is-5",children:e.description}),Object(M.jsxs)("p",{children:["Sensors connected: ",e.sensors]}),Object(M.jsxs)("p",{children:["Last update: ",(t=e.updated_at,new Date(t).toLocaleString("sv-SE"))]})]})})});var t})),Object(M.jsx)("div",{className:"card m-4",children:Object(M.jsx)(i.b,{to:"/add_room",children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("p",{className:"title is-3",children:"Add room"}),Object(M.jsx)("p",{className:"subtitle is-1 has-text-success",children:Object(M.jsx)(W.a,{icon:J.b})})]})})})]})]})},T=s(15),B=function(){var e=Object(o.h)().room_id,t=Object(o.g)(),s=Object(l.d)((function(e){return e.removeRoom})),c=Object(l.d)((function(e){return e.setSensors})),a=Object(l.e)((function(e){return e.rooms})),r=Object(l.e)((function(e){return e.sensors})),u=Object(l.e)((function(e){return e.message})),j=a.filter((function(t){return t.id==e}))[0];return Object(n.useEffect)((function(){w(e).then((function(e){return c(e.sensors)}))}),[e]),Object(n.useEffect)((function(){0==a.length&&t.push("/")}),[]),Object(n.useEffect)((function(){if(u.room_id==e){var t=r.map((function(e){return e.id==u.sensor_id?Object(T.a)(Object(T.a)({},e),{},{last_measurement:u.value,updated_at:u.updated_at}):e}));c(t)}}),[u]),Object(M.jsx)("div",{className:"content column m-0 p-0",children:0!=a.length?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"",children:Object(M.jsxs)("p",{className:"title is-3 mt-4 mt-0 ml-2 p-0",children:[j.name," ",Object(M.jsxs)("span",{className:"is-size-6 has-text-grey",children:["(",j.id,")"]}),Object(M.jsx)(W.a,{onClick:function(){window.confirm("Delete room and all data?")&&N(e).then((function(n){n.message&&(t.push("/"),s(e))}))},className:"ml-4 has-text-link is-size-6",icon:J.e})]})}),Object(M.jsxs)("div",{class:"is-flex is-flex-wrap-wrap",children:[r.map((function(t){return Object(M.jsx)("div",{className:"card m-1",children:Object(M.jsx)(i.b,{to:"/room/".concat(e,"/sensor/").concat(t.id),children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsxs)("p",{className:"title is-3",children:[t.name," ",Object(M.jsxs)("span",{className:"is-size-6 has-text-grey",children:["(",t.id,")"]})]}),Object(M.jsx)("p",{className:"subtitle is-6 m-0",children:t.variable}),Object(M.jsxs)("p",{className:"m-0",children:[Object(M.jsxs)("span",{className:"is-size-2",children:[t.last_measurement," "]}),Object(M.jsxs)("span",{className:"is-size-4",children:[t.unit," "]})]})]})})})})),Object(M.jsx)("div",{className:"card m-1",children:Object(M.jsx)(i.b,{to:"/add_sensor/".concat(e),children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("p",{className:"title is-3",children:"Add sensor"}),Object(M.jsx)("p",{className:"subtitle is-1 has-text-success",children:Object(M.jsx)(W.a,{icon:J.b})})]})})})]})]}):""})},V=s(124),G=function(){var e,t=Object(n.useState)(!0),s=Object(u.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)((e=Date.now(),new Date(e).toLocaleString("sv-SE").split(" ")[0])),i=Object(u.a)(r,2),j=i[0],d=i[1],b=Object(n.useState)([]),m=Object(u.a)(b,2),O=m[0],p=m[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),x=f[0],v=f[1],N=Object(o.h)(),g=N.sensor_id,w=N.room_id,k=Object(l.e)((function(e){return e.sensors})),_=Object(l.e)((function(e){return e.message})),z=Object(l.d)((function(e){return e.removeSensor})),E=k.filter((function(e){return e.id==g}))[0],D=Object(l.e)((function(e){return e.measurements})),R=Object(l.d)((function(e){return e.setMeasurements})),I=Object(l.d)((function(e){return e.addMeasurement})),A=Object(l.d)((function(e){return e.shiftMeasurement})),L=Object(n.useState)(E.last_measurement),P=Object(u.a)(L,2),U=P[0],F=P[1],B=Object(o.g)();Object(n.useEffect)((function(){0==k.length&&B.push("/")}),[]),Object(n.useEffect)((function(){console.log("...measurements"),y(w,g).then((function(e){console.log(e.measurements),R(e.measurements)}))}),[g]),Object(n.useEffect)((function(){_.room_id==w&&_.sensor_id==g&&(F(_.value),c&&(D.length>300&&A(),I(Object(T.a)(Object(T.a)({},_),{},{id:Date.now(),updated_at:Date(_.updated_at)}))))}),[_]),Object(n.useEffect)((function(){p(D.map((function(e){return q(e.updated_at)}))),v(D.map((function(e){return e.value})))}),[D]);return Object(M.jsx)("div",{className:"column pt-4",children:0!=k.length?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(M.jsxs)("p",{children:[Object(M.jsxs)("span",{className:"title is-3",children:[E.name,": "]}),Object(M.jsx)("span",{className:"is-size-3 has-text-success ",children:U}),Object(M.jsxs)("span",{className:"is-size-4 has-text-success ",children:[" ",E.unit]})]}),Object(M.jsx)("p",{onClick:function(){window.confirm("Delete sensor and all data?")&&S(w,g).then((function(e){e.message&&(B.push("/room/".concat(w)),z(g))}))},className:"has-text-danger title is-5",children:Object(M.jsx)(W.a,{icon:J.e,className:"mt-4 mr-4"})})]}),Object(M.jsx)("div",{className:"card",children:Object(M.jsx)(V.a,{data:function(){return function(e,t){return{labels:e,datasets:[{label:"Temperature \u0970C",data:t,fill:!1,borderColor:"#2ecc71",tension:.1}]}}(O,x)},options:{animation:{duration:0},plugins:{legend:{display:!1}},scales:{y:{suggestedMin:10,suggestedMax:45,ticks:{font:{size:20}}},x:{ticks:{font:{size:20}}}}}})}),Object(M.jsxs)("div",{className:"is-flex is-justify-content-space-between p-3",children:[Object(M.jsxs)("button",{onClick:function(){y(w,g).then((function(e){console.log(e.measurements),R(e.measurements)})),a(!0)},className:"is-medium button is-outlined ".concat(c&&"is-success"),children:[Object(M.jsx)(W.a,{icon:J.a,spin:c,className:"mr-2"}),"Realtime"]}),Object(M.jsxs)("div",{className:"is-flex",children:[Object(M.jsx)("label",{class:"label is-medium mr-2",children:"Date:"}),Object(M.jsx)("input",{onChange:function(e){console.log("query date:",e.target.value),d(e.target.value),a(!1),C(w,g,{date:e.target.value}).then((function(e){console.log(e.measurements),R(e.measurements)}))},value:j,type:"date",className:"is-medium input mr-3 ".concat(!c&&"is-success")})]})]})]}):""})},H=s(9),K={wifissid:"wifi_name",wifipass:"wifi_password"},Q=function(e){return JSON.parse(window.localStorage.getItem(e))||K[e]},X={rooms:[],setRooms:Object(l.b)((function(e,t){e.rooms=Object(H.a)(t)})),addRoom:Object(l.b)((function(e,t){e.rooms.push(t)})),removeRoom:Object(l.b)((function(e,t){e.rooms=e.rooms.filter((function(e){return e.id!=t}))})),updateRoom:Object(l.b)((function(e,t,s){e.rooms=e.rooms.map((function(e){return e.id==t?Object(T.a)(Object(T.a)({},e),s):e}))})),sensors:[],setSensors:Object(l.b)((function(e,t){e.sensors=Object(H.a)(t)})),removeSensor:Object(l.b)((function(e,t){e.sensors=e.sensors.filter((function(e){return e.id!=t}))})),measurements:[],setMeasurements:Object(l.b)((function(e,t){e.measurements=Object(H.a)(t)})),addMeasurement:Object(l.b)((function(e,t){e.measurements.push(t)})),shiftMeasurement:Object(l.b)((function(e){e.measurements.shift()})),message:{},setMessage:Object(l.b)((function(e,t){e.message=t})),wifipass:Q("wifipass"),wifissid:Q("wifissid"),setWifipass:Object(l.b)((function(e,t){e.wifipass=t})),setWifissid:Object(l.b)((function(e,t){e.wifissid=t}))},Y=function(){var e=Object(l.e)((function(e){return e.wifipass})),t=Object(l.e)((function(e){return e.wifissid})),s=Object(l.d)((function(e){return e.setWifipass})),c=Object(l.d)((function(e){return e.setWifissid})),a=Object(n.useState)([]),r=Object(u.a)(a,2),i=r[0],o=r[1],j=Object(n.useState)(null),d=Object(u.a)(j,2),b=d[0],m=d[1];return Object(n.useEffect)((function(){z().then((function(e){return o(e.networks)})),_().then((function(e){return m(e.card)}))}),[]),Object(M.jsx)("div",{className:"column",children:Object(M.jsxs)("div",{className:"card m-4 p-4",children:[Object(M.jsx)("header",{className:"card-header p-2",children:Object(M.jsx)("h1",{children:"Wireless configuration"})}),Object(M.jsx)("div",{className:"card-content",children:Object(M.jsx)("div",{className:"content",children:Object(M.jsxs)("div",{className:"columns",children:[Object(M.jsxs)("div",{className:"column",children:[Object(M.jsx)("p",{className:"subtitle is-4 has-text-centered m-4",children:"SSID"}),Object(M.jsx)("input",{value:t,type:"text",onChange:function(e){return c(e.target.value)},className:"input no-frame-input title is-3 has-text-centered"})]}),Object(M.jsxs)("div",{className:"column",children:[Object(M.jsx)("p",{className:"subtitle is-4 has-text-centered m-4",children:"Password"}),Object(M.jsx)("input",{value:e,type:"text",onChange:function(e){return s(e.target.value)},className:"input no-frame-input title is-3 has-text-centered"})]})]})})}),Object(M.jsx)("div",{className:"card-footer is-flex-direction-column",children:Object(M.jsx)("button",{onClick:function(){L("wifissid",t),L("wifipass",e),E(t,e)},className:"button card-footer-item",children:"Save"})}),Object(M.jsxs)("div",{className:"is-flex is-flex-direction-column is-flex-centered m-4",children:[Object(M.jsxs)("p",{className:"heading has-text-centered has-text-link",children:["Available Networks (",b,")"]}),Object(M.jsxs)("table",{className:"table is-bordered is-striped is-narrow",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{className:"has-text-centered is-size-6",children:"SSID"}),Object(M.jsx)("th",{className:"has-text-centered is-size-6",children:"SNR"})]})}),Object(M.jsx)("tbody",{children:i.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsxs)("td",{className:"has-text-centered is-size-6",children:[" ",e.ssid," "]}),Object(M.jsxs)("td",{className:"has-text-centered is-size-6",children:[" ",e.snr," "]})]},e.ssid)}))})]})]})]})})},Z=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),s=t[0];t[1];return Object(n.useEffect)((function(){}),[]),Object(M.jsx)("div",{className:"column",children:Object(M.jsxs)("div",{className:"card m-4 p-4",children:[Object(M.jsx)("header",{className:"card-header p-2",children:Object(M.jsx)("h1",{children:"Power control"})}),Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"content",children:Object(M.jsxs)("div",{className:"columns",children:[Object(M.jsxs)("div",{onClick:D,className:"column is-flex is-flex-centered is-flex-direction-column",children:[Object(M.jsx)(W.a,{icon:J.c,className:"is-size-1 has-text-link m-2"}),Object(M.jsx)("p",{children:"Power Off"})]}),Object(M.jsxs)("div",{onClick:R,className:"column is-flex is-flex-centered is-flex-direction-column",children:[Object(M.jsx)(W.a,{icon:J.d,className:"is-size-1 has-text-link mb-1"}),Object(M.jsx)("p",{children:"Restart"})]})]})}),Object(M.jsx)("footer",{className:"card-footer is-flex-centered",children:Object(M.jsxs)("p",{className:"heading has-text-link is-size-6 is-centered",children:["id: ",s]})})]})]})})},$=Object(l.c)(X),ee=function(){return Object(M.jsx)("div",{className:"container is-widescreen",children:Object(M.jsx)("div",{className:"columns",children:Object(M.jsxs)(l.a,{store:$,children:[Object(M.jsx)(P,{}),Object(M.jsx)(U,{}),Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.a,{exact:!0,from:"/",to:"/rooms"}),Object(M.jsx)(o.b,{path:"/rooms",component:F}),Object(M.jsx)(o.b,{path:"/room/:room_id/sensor/:sensor_id",component:G}),Object(M.jsx)(o.b,{path:"/room/:room_id",component:B}),Object(M.jsx)(o.b,{path:"/add_room",component:I}),Object(M.jsx)(o.b,{path:"/add_sensor/:room_id",component:A}),Object(M.jsx)(o.b,{path:"/wireless",component:Y}),Object(M.jsx)(o.b,{path:"/system",component:Z})]})]})})})};r.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(i.a,{children:Object(M.jsx)(ee,{})})}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.4cafaa95.chunk.js.map